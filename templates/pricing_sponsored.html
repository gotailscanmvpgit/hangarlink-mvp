{% extends "base.html" %}

{% block content %}
<div class="relative min-h-screen py-20 overflow-hidden bg-white dark:bg-dark-900">
    <!-- Background Effects -->
    <div class="absolute inset-0 bg-gradient-to-b from-[#001F3F] to-black opacity-90"></div>
    <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(0,31,63,0.5),transparent_70%)]"></div>

    <div class="relative z-10 max-w-7xl mx-auto px-6 lg:px-8">
        <!-- Header -->
        <div class="text-center mb-16">
            <h1 class="text-4xl md:text-5xl font-extrabold text-[#FAFAFA] mb-4 tracking-tight">
                Boost Your Hangar Visibility
            </h1>
            <p class="text-lg text-[#E0E0E0]/80 max-w-2xl mx-auto font-light">
                Get your listing seen by thousands of pilots. Featured listings appear at the top of search results and
                receive up to 10x more inquiries.
            </p>
        </div>

        <!-- Listing Selector -->
        <div class="max-w-xl mx-auto mb-16">
            {% if listings %}
            <div class="bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 shadow-2xl">
                <label class="block text-sm font-bold text-[#E0E0E0] mb-3 uppercase tracking-wider">Select Listing to
                    Promote</label>
                <select id="listing-selector"
                    class="w-full bg-[#001F3F]/50 border border-white/20 rounded-xl text-white p-4 focus:ring-2 focus:ring-blue-500 font-mono">
                    {% for listing in listings %}
                    <option value="{{ listing.id }}">{{ listing.airport_icao }} - ${{ listing.price_month }}/mo</option>
                    {% endfor %}
                </select>
            </div>
            {% else %}
            <div class="text-center p-8 bg-red-500/10 border border-red-500/30 rounded-2xl">
                <p class="text-red-200 font-bold mb-4">You have no active listings to promote.</p>
                <a href="{{ url_for('post_listing_confirm') }}"
                    class="inline-block bg-white text-red-600 font-bold py-2 px-6 rounded-lg hover:bg-gray-100 transition-colors">Post
                    a Listing</a>
            </div>
            {% endif %}
        </div>

        <!-- Pricing Tiers -->
        <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">

            <!-- Silver -->
            <div
                class="relative group bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 hover:border-white/20 transition-all duration-300 hover:shadow-2xl hover:bg-white/[0.07]">
                <div class="mb-6">
                    <h3 class="text-2xl font-bold text-[#E0E0E0] mb-2">Silver Featured</h3>
                    <div class="flex items-baseline">
                        <span class="text-4xl font-extrabold text-white">$49</span>
                        <span class="text-[#E0E0E0]/60 ml-2">/ month</span>
                    </div>
                </div>
                <ul class="space-y-4 mb-8">
                    <li class="flex items-center text-[#E0E0E0]/90">
                        <i class="fas fa-check text-blue-400 w-6"></i> 2x Visibility Boost
                    </li>
                    <li class="flex items-center text-[#E0E0E0]/90">
                        <i class="fas fa-check text-blue-400 w-6"></i> "Featured" Badge
                    </li>
                    <li class="flex items-center text-[#E0E0E0]/90">
                        <i class="fas fa-check text-blue-400 w-6"></i> Top of Category
                    </li>
                </ul>
                <form action="{{ url_for('promote_listing', tier='silver') }}" method="POST"
                    onsubmit="updateListingId(this)">
                    <input type="hidden" name="listing_id" class="listing-id-input">
                    <button type="submit" {% if not listings %}disabled{% endif %}
                        class="w-full py-4 rounded-xl border border-white/30 text-white font-bold hover:bg-white hover:text-[#001F3F] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
                        Select Silver
                    </button>
                </form>
            </div>

            <!-- Gold (Best Value) -->
            <div
                class="relative group bg-gradient-to-b from-[#001F3F] to-black border-2 border-amber-400/50 rounded-3xl p-8 transform scale-105 shadow-[0_0_40px_rgba(251,191,36,0.15)] z-10">
                <div
                    class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-gradient-to-r from-amber-400 to-orange-500 text-white text-xs font-bold px-4 py-1.5 rounded-full shadow-lg tracking-wide uppercase">
                    Most Popular
                </div>
                <div class="mb-6">
                    <h3
                        class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-200 to-amber-400 mb-2">
                        Gold Featured</h3>
                    <div class="flex items-baseline">
                        <span class="text-5xl font-extrabold text-white">$99</span>
                        <span class="text-[#E0E0E0]/60 ml-2">/ month</span>
                    </div>
                </div>
                <ul class="space-y-4 mb-8">
                    <li class="flex items-center text-white font-medium">
                        <i class="fas fa-check text-amber-400 w-6"></i> 5x Visibility Boost
                    </li>
                    <li class="flex items-center text-white font-medium">
                        <i class="fas fa-check text-amber-400 w-6"></i> Priority Top Placement
                    </li>
                    <li class="flex items-center text-white font-medium">
                        <i class="fas fa-check text-amber-400 w-6"></i> Gold "Featured" Badge
                    </li>
                    <li class="flex items-center text-white font-medium">
                        <i class="fas fa-check text-amber-400 w-6"></i> Highlighted Border
                    </li>
                </ul>
                <form action="{{ url_for('promote_listing', tier='gold') }}" method="POST"
                    onsubmit="updateListingId(this)">
                    <input type="hidden" name="listing_id" class="listing-id-input">
                    <button type="submit" {% if not listings %}disabled{% endif %}
                        class="w-full py-4 rounded-xl bg-gradient-to-r from-amber-400 to-orange-500 text-white font-bold hover:from-amber-300 hover:to-orange-400 transition-all duration-300 shadow-lg hover:shadow-orange-500/25 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed">
                        Get Gold Status
                    </button>
                </form>
            </div>

            <!-- Platinum -->
            <div
                class="relative group bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 hover:border-white/20 transition-all duration-300 hover:shadow-2xl hover:bg-white/[0.07]">
                <div class="mb-6">
                    <h3 class="text-2xl font-bold text-[#E0E0E0] mb-2">Platinum Featured</h3>
                    <div class="flex items-baseline">
                        <span class="text-4xl font-extrabold text-white">$199</span>
                        <span class="text-[#E0E0E0]/60 ml-2">/ month</span>
                    </div>
                </div>
                <ul class="space-y-4 mb-8">
                    <li class="flex items-center text-[#E0E0E0]/90">
                        <i class="fas fa-check text-purple-400 w-6"></i> 10x Visibility Boost
                    </li>
                    <li class="flex items-center text-[#E0E0E0]/90">
                        <i class="fas fa-check text-purple-400 w-6"></i> Immediate Search Dominance
                    </li>
                    <li class="flex items-center text-[#E0E0E0]/90">
                        <i class="fas fa-check text-purple-400 w-6"></i> Platinum Badge & Glow
                    </li>
                    <li class="flex items-center text-[#E0E0E0]/90">
                        <i class="fas fa-check text-purple-400 w-6"></i> Included in Email Blast
                    </li>
                </ul>
                <form action="{{ url_for('promote_listing', tier='platinum') }}" method="POST"
                    onsubmit="updateListingId(this)">
                    <input type="hidden" name="listing_id" class="listing-id-input">
                    <button type="submit" {% if not listings %}disabled{% endif %}
                        class="w-full py-4 rounded-xl border border-white/30 text-white font-bold hover:bg-white hover:text-[#001F3F] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
                        Select Platinum
                    </button>
                </form>
            </div>

        </div>
    </div>
</div>

<script>
    function updateListingId(form) {
        const selector = document.getElementById('listing-selector');
        if (selector) {
            const selectedId = selector.value;
            const input = form.querySelector('.listing-id-input');
            input.value = selectedId;
        }
    }
</script>
{% endblock %}